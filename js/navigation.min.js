"use strict";function _createForOfIteratorHelper(e,t){var n,a,o,l,r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(r)return a=!(n=!0),{s:function(){r=r.call(e)},n:function(){var e=r.next();return n=e.done,e},e:function(e){a=!0,o=e},f:function(){try{n||null==r.return||r.return()}finally{if(a)throw o}}};if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return r&&(e=r),l=0,{s:t=function(){},n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var primaryMenu={init:function(){this.focusMenuWithChildren()},focusMenuWithChildren:function(){var e,t,n=document.querySelector(".nav-primary");if(!n)return!1;for(var a=n.getElementsByTagName("a"),o=document.querySelectorAll(".nav-primary .submenu-expand"),l=0;l<o.length;l++)o[l].setAttribute("tabIndex","-1");for(e=0,t=a.length;e<t;e++)a[e].addEventListener("focus",r,!0),a[e].addEventListener("blur",r,!0);function r(){for(var e=this;-1===e.className.indexOf("nav-primary");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("focus")?e.className=e.className.replace(" focus",""):e.className+=" focus"),e=e.parentElement}}};document.addEventListener("DOMContentLoaded",function(e){if(primaryMenu.init(),document.getElementById("main-header-navigation")){var t=document.getElementById("primary-menu");if(null!==t&&t){var n=document.getElementById("offcanvas-menu-items");if(null!==n){n.innerHTML=t.innerHTML;n=document.querySelectorAll("#offcanvas-menu-items li"),t=(0<n.length&&n.forEach(function(e){e.removeAttribute("id"),e.classList.contains("menu-item")&&(e.classList.remove("menu-item"),e.classList.add("nav-menu"))}),document.getElementById("offcanvas-menu-items"));if(void 0!==t){t.classList.contains("nav-menu")||t.classList.add("nav-menu");var a,n=document.querySelector("#offcanvas-content .paddle-theme-dialog").getElementsByTagName("a"),o=(t.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a"),_createForOfIteratorHelper(n));try{for(o.s();!(a=o.n()).done;){var l=a.value,r=document.createElement("div");r.setAttribute("class","link-wrap"),l.parentNode.insertBefore(r,l),r.appendChild(l)}}catch(e){o.e(e)}finally{o.f()}for(var i=document.querySelectorAll("#offcanvas-menu-items .submenu-expand"),s=0;s<i.length;s++)i[s].removeAttribute("tabIndex"),i[s].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;"block"===e.style.display?(e.style.display="none",e.classList.remove("active-panel")):(e.style.display="block",e.classList.add("active-panel"))});var c,t=document.getElementById("page");null!==t&&t&&((n=document.createElement("div")).setAttribute("class","paddle-theme-dialog-overlay"),n.setAttribute("tabindex","-1"),t.parentNode.insertBefore(n,t),d.prototype.open=function(){var t=this;this.dialogEl.removeAttribute("aria-hidden"),this.overlayEl.removeAttribute("aria-hidden"),this.overlayEl.parentNode.classList.add("overflow-hidden"),this.dialogEl.style.display="flex",this.focusedElBeforeOpen=document.activeElement,this.dialogEl.addEventListener("keydown",function(e){t._handleKeyDown(e)}),this.overlayEl.addEventListener("click",function(){t.close()}),this.firstFocusableEl.focus()},d.prototype.close=function(){this.dialogEl.setAttribute("aria-hidden",!0),this.overlayEl.setAttribute("aria-hidden",!0),this.overlayEl.parentNode.classList.remove("overflow-hidden"),this.dialogEl.classList.add("hide-dialog"),setTimeout(function(){document.querySelector("#offcanvas-content .paddle-theme-dialog").style.display="none"},320),this.focusedElBeforeOpen&&(this.focusedElBeforeOpen.focus(),this.dialogEl.classList.remove("show-dialog"))},d.prototype._handleKeyDown=function(e){var t=this;switch(e.keyCode){case 9:1===t.focusableEls.length?e.preventDefault():e.shiftKey?document.activeElement===t.firstFocusableEl&&(e.preventDefault(),t.lastFocusableEl.focus()):document.activeElement===t.lastFocusableEl&&(e.preventDefault(),t.firstFocusableEl.focus());break;case 27:t.close()}},d.prototype.addEventListeners=function(e,t){for(var n=this,a=document.querySelectorAll(e),o=0;o<a.length;o++)a[o].addEventListener("click",function(){n.open()});for(var l=document.querySelectorAll(t),r=0;r<l.length;r++)l[r].addEventListener("click",function(){n.close()})},c=document.querySelector("#offcanvas-content .paddle-theme-dialog"),n=document.querySelector(".paddle-theme-dialog-overlay"),null!==c)&&null!==n&&(new d(c,n).addEventListeners(".open-dialog",".close-dialog"),null!==(t=document.querySelector(".open-dialog")))&&t.addEventListener("click",function(){"flex"===c.style.display&&null===c.getAttribute("aria-hidden")?setTimeout(function(){c.classList.remove("hide-dialog"),c.classList.add("show-dialog")},10):(c.classList.add("hide-dialog"),c.classList.remove("show-dialog"))})}}}}function d(e,t){this.dialogEl=e,this.overlayEl=t,this.focusedElBeforeOpen;e=this.dialogEl.querySelectorAll('a[href], area[href], input:not([disabled]), .btn, select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');this.focusableEls=Array.prototype.slice.call(e),this.firstFocusableEl=this.focusableEls[0],this.lastFocusableEl=this.focusableEls[this.focusableEls.length-1],this.close()}});
"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,_toPropertyKey(o.key),o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}function _createSuper(n){var o=_isNativeReflectConstruct();return function(){var e,t=_getPrototypeOf(n);return _possibleConstructorReturn(this,o?(e=_getPrototypeOf(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments))}}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var n="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||!_isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(t,e)})(e)}function _construct(e,t,n){return(_construct=_isNativeReflectConstruct()?Reflect.construct.bind():function(e,t,n){var o=[null];o.push.apply(o,t);t=new(Function.bind.apply(e,o));return n&&_setPrototypeOf(t,n.prototype),t}).apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function _isNativeFunction(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,n){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"===_typeof(e)?e:String(e)}function _toPrimitive(e,t){if("object"!==_typeof(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _createForOfIteratorHelper(e,t){var n,o,r,i,a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return o=!(n=!0),{s:function(){a=a.call(e)},n:function(){var e=a.next();return n=e.done,e},e:function(e){o=!0,r=e},f:function(){try{n||null==a.return||a.return()}finally{if(o)throw r}}};if(Array.isArray(e)||(a=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return a&&(e=a),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var n;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}["click","scroll","mousemove","touchstart"].forEach(function(e){window.addEventListener(e,firstInteraction,{once:!0})});var userInteracted=!1;function firstInteraction(){userInteracted||(userInteracted=!0,window.dataLayer=window.dataLayer||[],dataLayer.push({event:"firstInteraction",userInteracted:!0}))}function replaceCommas(e){document.querySelectorAll(e).forEach(function(e){var t;e&&void 0!==e&&(t=e.innerHTML).includes(",")&&(e.innerHTML=t.replace(/,/g," <span> </span> "))})}var primaryMenu={init:function(){this.focusMenuWithChildren()},focusMenuWithChildren:function(){var e,t,n=document.querySelector(".nav-primary");if(!n)return!1;for(var o=n.getElementsByTagName("a"),r=document.querySelectorAll(".nav-primary .submenu-expand"),i=0;i<r.length;i++)r[i].setAttribute("tabIndex","-1");for(e=0,t=o.length;e<t;e++)o[e].addEventListener("focus",a,!0),o[e].addEventListener("blur",a,!0);function a(){for(var e=this;-1===e.className.indexOf("nav-primary");)"li"===e.tagName.toLowerCase()&&(-1!==e.className.indexOf("focus")?e.className=e.className.replace(" focus",""):e.className+=" focus"),e=e.parentElement}}},SearchModal=(document.addEventListener("DOMContentLoaded",function(e){if(primaryMenu.init(),document.getElementById("main-header-navigation")){var t=document.getElementById("primary-menu");if(null!==t&&t){var n=document.getElementById("offcanvas-menu-items");if(null!==n){n.innerHTML=t.innerHTML;n=document.querySelectorAll("#offcanvas-menu-items li"),t=(0<n.length&&n.forEach(function(e){e.removeAttribute("id"),e.classList.contains("menu-item")&&(e.classList.remove("menu-item"),e.classList.add("nav-menu")),e.classList.contains("nav-logo")&&e.remove()}),document.getElementById("offcanvas-menu-items"));if(void 0!==t){t.classList.contains("nav-menu")||t.classList.add("nav-menu");var o,n=document.querySelector("#offcanvas-content .paddle-theme-dialog").getElementsByTagName("a"),r=(t.querySelectorAll(".menu-item-has-children > a, .page_item_has_children > a"),_createForOfIteratorHelper(n));try{for(r.s();!(o=r.n()).done;){var i=o.value,a=document.createElement("div");a.setAttribute("class","link-wrap"),i.parentNode.insertBefore(a,i),a.appendChild(i)}}catch(e){r.e(e)}finally{r.f()}for(var l=document.querySelectorAll("#offcanvas-menu-items .submenu-expand"),s=0;s<l.length;s++)l[s].removeAttribute("tabIndex"),l[s].addEventListener("click",function(){this.classList.toggle("active");var e=this.nextElementSibling;"block"===e.style.display?(e.style.display="none",e.classList.remove("active-panel")):(e.style.display="block",e.classList.add("active-panel"))});var c,t=document.getElementById("page");null!==t&&t&&((n=document.createElement("div")).setAttribute("class","paddle-theme-dialog-overlay"),n.setAttribute("tabindex","-1"),t.parentNode.insertBefore(n,t),u.prototype.open=function(){var t=this;this.dialogEl.removeAttribute("aria-hidden"),this.overlayEl.removeAttribute("aria-hidden"),this.overlayEl.parentNode.classList.add("overflow-hidden"),this.dialogEl.style.display="flex",this.focusedElBeforeOpen=document.activeElement,this.dialogEl.addEventListener("keydown",function(e){t._handleKeyDown(e)}),this.overlayEl.addEventListener("click",function(){t.close()}),this.firstFocusableEl.focus()},u.prototype.close=function(){this.dialogEl.setAttribute("aria-hidden",!0),this.overlayEl.setAttribute("aria-hidden",!0),this.overlayEl.parentNode.classList.remove("overflow-hidden"),this.dialogEl.classList.add("hide-dialog"),setTimeout(function(){document.querySelector("#offcanvas-content .paddle-theme-dialog").style.display="none"},320),this.focusedElBeforeOpen&&(this.focusedElBeforeOpen.focus(),this.dialogEl.classList.remove("show-dialog"))},u.prototype._handleKeyDown=function(e){var t=this;switch(e.keyCode){case 9:1===t.focusableEls.length?e.preventDefault():e.shiftKey?document.activeElement===t.firstFocusableEl&&(e.preventDefault(),t.lastFocusableEl.focus()):document.activeElement===t.lastFocusableEl&&(e.preventDefault(),t.firstFocusableEl.focus());break;case 27:t.close()}},u.prototype.addEventListeners=function(e,t){for(var n=this,o=document.querySelectorAll(e),r=0;r<o.length;r++)o[r].addEventListener("click",function(){n.open()});for(var i=document.querySelectorAll(t),a=0;a<i.length;a++)i[a].addEventListener("click",function(){n.close()})},c=document.querySelector("#offcanvas-content .paddle-theme-dialog"),n=document.querySelector(".paddle-theme-dialog-overlay"),null!==c)&&null!==n&&(new u(c,n).addEventListeners(".open-dialog",".close-dialog"),null!==(t=document.querySelector(".open-dialog")))&&t.addEventListener("click",function(){"flex"===c.style.display&&null===c.getAttribute("aria-hidden")?setTimeout(function(){c.classList.remove("hide-dialog"),c.classList.add("show-dialog")},10):(c.classList.add("hide-dialog"),c.classList.remove("show-dialog"))})}}}}function u(e,t){this.dialogEl=e,this.overlayEl=t,this.focusedElBeforeOpen;e=this.dialogEl.querySelectorAll('a[href], area[href], input:not([disabled]), .btn, select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');this.focusableEls=Array.prototype.slice.call(e),this.firstFocusableEl=this.focusableEls[0],this.lastFocusableEl=this.focusableEls[this.focusableEls.length-1],this.close()}}),function(){_inherits(o,_wrapNativeSuper(HTMLElement));var n=_createSuper(o);function o(){_classCallCheck(this,o),_defineProperty(_assertThisInitialized(t=n.call(this)),"handleKeyEsc",function(e){27===e.keyCode&&(this.close(),this.focusedElBeforeOpen.classList.remove("active"),this.focusedElBeforeOpen.focus())}),t.searchModal=document.getElementById("searchModal"),t.dialogEl=t.searchModal.querySelector(".modal-dialog"),t.focusedElBeforeOpen=document.activeElement,t.onBodyClick=t.handleBodyClick.bind(_assertThisInitialized(t)),t.searchInput=t.searchModal.querySelector('input[type="text"]'),t.searchModal.addEventListener("keyup",t.handleKeyEsc);var t,e=t.dialogEl.querySelectorAll('a[href], area[href], input:not([disabled]), .btn, select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]');return t.focusableEls=Array.prototype.slice.call(e),t.firstFocusableEl=t.focusableEls[0],t.lastFocusableEl=t.focusableEls[t.focusableEls.length-1],t.querySelectorAll('button[type="button.btn-close"]').forEach(function(e){return e.addEventListener("click",t.close.bind(_assertThisInitialized(t)))}),t.toggleSearchModal(),t.checkTabPress(),t}return _createClass(o,[{key:"open",value:function(){this.searchModal.classList.add("fade","active"),this.searchModal.removeAttribute("aria-hidden"),this.searchModal.setAttribute("aria-modal","true"),this.searchModal.setAttribute("role","dialog"),this.firstFocusableEl.focus(),document.body.addEventListener("click",this.onBodyClick)}},{key:"close",value:function(){this.searchModal.setAttribute("aria-hidden","true"),this.searchModal.removeAttribute("aria-modal"),this.searchModal.removeAttribute("role"),document.body.removeEventListener("click",this.onBodyClick),this.searchModal.classList.remove("active"),this.focusedElBeforeOpen.classList.remove("active"),this.focusedElBeforeOpen.focus()}},{key:"handleCloseBtn",value:function(){var e=this;document.querySelector(".cart-notification__close").addEventListener("click",function(){document.querySelector("#cart-icon-bubble")&&e.handleActive(document.querySelector("#cart-icon-bubble"))})}},{key:"toggleSearchModal",value:function(){var n=this;this.getSectionsToRender().forEach(function(e){var t=document.querySelector(e.id);t&&t.addEventListener("click",function(e){e.preventDefault(),n.handleActive(t),n.focusedElBeforeOpen=t})})}},{key:"handleActive",value:function(e){e.classList.contains("active")?(e.classList.remove("active"),this.close()):(this.open(),e.classList.add("active"))}},{key:"getSectionsToRender",value:function(){return[{id:".button-search"}]}},{key:"handleBodyClick",value:function(e){e=e.target;e===this.dialogEl||e.closest("#search-glass")||e.closest("form")||(this.close(),document.getElementById("search-glass").classList.remove("active"))}},{key:"setActiveElement",value:function(e){this.activeElement=e}},{key:"checkTabPress",value:function(){var e=this.searchModal,t='button, [href], input, select, textarea, button, [tabindex]:not([tabindex="-1"])',n=e.querySelectorAll(t)[0],e=e.querySelectorAll(t),o=e[e.length-1];document.addEventListener("keydown",function(e){"Tab"!==e.key&&9!==e.keyCode||(e.shiftKey?document.activeElement===n&&(o.focus(),e.preventDefault()):document.activeElement===o&&(n.focus(),e.preventDefault()))})}}]),o}());customElements.get("search-modal")||customElements.define("search-modal",SearchModal);